<?php
//20.0.56.0 IHM/ObjetAPCode.php GF 
//VersionVI: 30F200066p
//(c) 2005-2012 PC SOFT  - Release
 if (!defined('__INC__FMK/Compat/xsystem.php')) { define('__INC__FMK/Compat/xsystem.php',true); include_once(WB_INCLUDE_PATH.'WD14183cc5dbbd843da831afdd3bf106e4.php'); } if (!defined('__INC__FMK/Wltype.php')) { define('__INC__FMK/Wltype.php',true); include_once(WB_INCLUDE_PATH.'WD6d79f243a7423e4bf72a9488d027d476.php'); } if (!defined('__INC__FMK/Dessin/Couleur.php')) { define('__INC__FMK/Dessin/Couleur.php',true); include_once(WB_INCLUDE_PATH.'WD2521e084cbaf10ef8d5f4ede4dc6baa2.php'); } if (!defined('__INC__FMK/Disque/Fichier.php')) { define('__INC__FMK/Disque/Fichier.php',true); include_once(WB_INCLUDE_PATH.'WD5e394596c6434eec95aa14dd761a6e59.php'); } define('szPROP_CODEHTML' ,'CODEHTML'); define('cPROP_CODEHTML_SEPARATEUR' ,'_'); define('szPROP_CODEHTML_SEPARATEUR' ,'_'); define('szPROP_CODEHTML_TYPE' ,szPROP_CODEHTML.szPROP_CODEHTML_SEPARATEUR.'%u'); define('szPROP_CODEHTML_TYPE_OPTION' ,szPROP_CODEHTML_TYPE.szPROP_CODEHTML_SEPARATEUR.'%u'); define('szPROP_CODEHTML_TYPE_OPTIONSZ' ,szPROP_CODEHTML_TYPE.szPROP_CODEHTML_SEPARATEUR.'%s'); $ePARTIE_CODEHTML = 0; define('PARTIE_CODEHTML_CONTENUTOTAL' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_CALENDRIER_NOMMOIS' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_CALENDRIER_NOMJOUR' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_CALENDRIER_AUJOURDHUI' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_CALENDRIER_JOURS' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_CALENDRIER_BTNMOIS_VIS' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_CALENDRIER_MOISCOURANT' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_MENU_PARTIEDYNAMIQUE' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_BARREOUTILSLOCALE_CTRL' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_ZRLINEAIRE_POSITION' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_VIDEO_DECLARATION' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_VIDEO_STATIQUE' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_BARREOUTILSLOCALE_OPTS' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_BARREOUTILSLOCALE_MODE' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_CHAMP_PARAMETRES' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_CHAMP_DONNES' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_JAUGE_LARGEUR' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_INIT_AJAX_INLINE' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_COULEUR_PALETTE' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_CHAMP_DATA' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_DEBUT_POTENTIOMETRE' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_LONGUEUR_POTENTIOMETRE' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_MENU_POPUPDECLARATION' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_MENU_SIAVECHREF' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_LIBELLEHTML' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_SAISIEASSISTEE_CONTENU' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_COLONNE_SAISISABLE' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_COLONNE_DEPLACE' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_COLONNE_TYPEWL' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_SAISIEASSISTEE_PARAMETRES',$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_COLONNE_COLSPAN' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_COLONNE_REDIM' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_RUPTURE_COLSPAN' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_RUPTURE_REDIMENSIONNABLE',$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_RUPTURE_COL_REDIM' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_PARAMETRES_GGL' ,$ePARTIE_CODEHTML++); define('PARTIE_CODEHTML_MAX',$ePARTIE_CODEHTML++); unset($ePARTIE_CODEHTML); define('dwrvAUCUNE', 0x00000); define('dwrvEMPTYLIST', 0x00001); define('dwrvNOTTABFIC', 0X00002); define('dwrvNOCHILD', 0x00004); define('dwrvCREATE', 0x00008); define('dwrvNOAJAX', 0x10000); define('dwrvFORCERESETAJAX', 0x20000); define('VUEMODIF_UPDATECOMPLET', 0); define('VUEMODIF_UPDATECONTENU', 1); define('VUEMODIF_NONAFFICHE', 2); class CPropCodeHTML { var $m_ePartie; var $m_nParametre; var $m_czParametre; function CPropCodeHTML() { $nNbArgs = func_num_args(); $pszPropriete = func_get_arg(0); switch ($nNbArgs) { case 1: if (!is_numeric($pszPropriete)) { $this->F4d19ffef($pszPropriete); } else { $this->F931e2ad1(intval($pszPropriete)); } break; case 2: $this->F931e2ad1(intval($pszPropriete),func_get_arg(1)); break; case 3: $this->F931e2ad1(intval($pszPropriete),func_get_arg(1),func_get_arg(2)); break; default: } } function F4d19ffef($pszPropriete) { $this->m_ePartie = PARTIE_CODEHTML_CONTENUTOTAL; $this->m_nParametre = 0; $this->m_czParametre = ''; if (utf8_strncmp($pszPropriete, szPROP_CODEHTML, utf8_strlen(szPROP_CODEHTML) ) == 0) { $nDecalagePropriete = utf8_strlen(szPROP_CODEHTML); if (utf8_substr($pszPropriete,$nDecalagePropriete,1) == cPROP_CODEHTML_SEPARATEUR) { ++$nDecalagePropriete; $nPartie = intval(utf8_substr($pszPropriete,$nDecalagePropriete)); if (($nPartie >= PARTIE_CODEHTML_CONTENUTOTAL) && ($nPartie < PARTIE_CODEHTML_MAX)) $this->m_ePartie = $nPartie; $pszSecondSep = utf8_strchr(utf8_substr($pszPropriete,$nDecalagePropriete+1), cPROP_CODEHTML_SEPARATEUR); if (isset($pszSecondSep) && ($pszSecondSep!==false)) { $this->m_czParametre = utf8_substr($pszSecondSep,1); $this->m_nParametre = intval($this->m_czParametre); } } } } function F931e2ad1($ePartie, $nParametre = 0,$pszParametre = null) { $this->m_ePartie = $ePartie; $this->m_nParametre = $nParametre; $this->m_czParametre= $pszParametre; } function Fc30871c3() { return $this->m_ePartie; } function F2d263eef() { return $this->m_nParametre; } function Fb547ae54() { return $this->m_czParametre; } } function Fed672b60(&$pczResultat,$ePartie,$Option = null) { if (!isset($Option)){ return Fb8e30f5b($pczResultat,$ePartie); } if (is_int($Option)) { return F422352d7($pczResultat,$ePartie,$Option); } return F3ae02793($pczResultat,$ePartie,$Option); } function Fb8e30f5b( &$pczResultat, $ePartie) { $pczResultat = szPROP_CODEHTML_TYPE . $ePartie; return $pczResultat; } function F422352d7( &$pczResultat, $ePartie, $nParametre) { $pczResultat = utf8_sprintf(szPROP_CODEHTML_TYPE_OPTION, $ePartie, $nParametre); return $pczResultat; } function F3ae02793( &$pczResultat, $ePartie, $pszParametre) { $pczResultat = utf8_sprintf(szPROP_CODEHTML_TYPE_OPTIONSZ, $ePartie, $pszParametre); return $pczResultat; } define('RECH_CHILDDIRECT',0); define('RECH_ANYCHILD',1); define('RECH_ANY',2); class stMODIFPROPRIETEAJAX { var $m_ePropriete; function F18e6794c() {return $this->m_ePropriete;} function stMODIFPROPRIETEAJAX($eProp) { $this->m_ePropriete = $eProp; } } $eACTION_WEB=-1; define('ACTION_WEB_PRINCIPALE',++$eACTION_WEB); define('ACTION_WEB_SELECTION',++$eACTION_WEB); define('ACTION_WEB_CALENDRIER_AUJOURDHUI',++$eACTION_WEB); define('ACTION_WEB_CALENDRIER_MOISPREC',++$eACTION_WEB); define('ACTION_WEB_CALENDRIER_MOISSUIV',++$eACTION_WEB); define('ACTION_WEB_CALENDRIER_MOISFIXE',++$eACTION_WEB); define('ACTION_WEB_UPLOAD_FICHIER',++$eACTION_WEB); define('ACTION_WEB_UPLOAD_FICHIERDERNIER',++$eACTION_WEB); define('ACTION_WEB_UPLOAD_REVEIL',++$eACTION_WEB); define('ACTION_WEB_AGENDA_RDV_DEPLACEMENT',++$eACTION_WEB); define('ACTION_WEB_AGENDA_RDV_REDIM',++$eACTION_WEB); define('ACTION_WEB_AGENDA_RDV_SUPPRIME',++$eACTION_WEB); define('ACTION_WEB_AGENDA_RDV_AJOUTE',++$eACTION_WEB); define('ACTION_WEB_AGENDA_RDV_EDITIONTITRE',++$eACTION_WEB); define('ACTION_WEB_AGENDA_PERIODE_AFFICHE',++$eACTION_WEB); define('ACTION_WEB_TABLE_ENROULEDEROULE',++$eACTION_WEB); unset($eACTION_WEB); $eACTION_WEB_RESULTAT=-1; define('ACTION_WEB_RESULTAT_OK',++$eACTION_WEB_RESULTAT); define('ACTION_WEB_RESULTAT_ERREUR',++$eACTION_WEB_RESULTAT); define('ACTION_WEB_RESULTAT_ERREUR_GPW',+$eACTION_WEB_RESULTAT); unset($eACTION_WEB_RESULTAT); class CControleurBase { var $m_pclModele; function& Fda201604() { return $this->m_pclModele; } function CControleurBase(&$pclModele) { $this->m_pclModele =& $pclModele; } } function Fa6be8d6f( $nCause ) { switch ($nCause) { case CAUSE_CLAVIER: case CAUSE_CLIC: case CAUSE_CLIC_NOSETFOCUS: return true; case CAUSE_REPRISESAISIE: case CAUSE_OUVERTURE: case CAUSE_CODE: return false; default: return false; } } class CControleurBase_Web extends CControleurBase { function CControleurBase_Web ( &$pclModele) { parent::CControleurBase($pclModele); } function F210963b9() { return $this->Fee423a26(F19b65b78(), $this->m_pclModele->F317347df()); } function Fee423a26($tabParams,$pszNomParametre) { if (!isset($tabParams)) $tabParams=F19b65b78(); $pszParametre = ((isset($tabParams[$pszNomParametre])) ? $tabParams[$pszNomParametre] : null); if (null===$pszParametre) { $pszParametre = ''; } return $pszParametre; } function Fe6723554($tabParams, $pszNomParametre, &$rdwValeur) { if (!isset($tabParams)) $tabParams=F19b65b78(); $pszValeur = ((isset($tabParams[$pszNomParametre])) ? $tabParams[$pszNomParametre] : null); if (null===$pszValeur) { return false; } if (!is_numeric($pszValeur)) { return false; } $rdwValeur = doubleval(utf8_number_format($pszValeur,0,'','')); return true; } function Fb5398a4d(&$rtValeur) { return $this->Fe6723554(null,'WD_PARAM_', $rtValeur); } function F698bf3a0($eAction, $nIDSInfo) { F67cfd262(); Fdd46bacf(FMK_ChaineConstruit('ERR_ACTION_INTERDITE',$eAction,$this->m_pclModele->Nom)); if (0 != $nIDSInfo) { Fdd279d21($nIDSInfo,errMessageSysteme); } return ACTION_WEB_RESULTAT_ERREUR; } function F0bf0c400($eAction, $Parametere = null) { $eResultat = $this->Fe27642cb($eAction, false); if ($eResultat === ACTION_WEB_RESULTAT_OK) $eResultat = $this->F4d821ce0($eAction); return $eResultat; } function Fe27642cb( $eAction, $bInterditSiInactif) { return ACTION_WEB_RESULTAT_OK; } function F4d821ce0( $eAction) { switch ($eAction) { case ACTION_WEB_PRINCIPALE: $pclModele=&$this->Fda201604(); $pclModele->Fc1a6d5f6(trtClic); return ACTION_WEB_RESULTAT_OK; case ACTION_WEB_SELECTION: $pclModele=&$this->Fda201604(); $pclModele->Fc1a6d5f6(trtSelection); return ACTION_WEB_RESULTAT_OK; default: return ACTION_WEB_RESULTAT_OK; } } function Fb29dfdd9($pszDonneesUTF8) { return $pszDonneesUTF8; } } class CControleurChamp_Web extends CControleurBase_Web { function CControleurChamp_Web( &$pclModele) { parent::CControleurBase_Web($pclModele); } function F4d821ce0( $eAction) { switch ($eAction) { case ACTION_WEB_PRINCIPALE: $pclModele =& $this->Fda201604(); switch ($pclModele->Feb661866()) { case ID_LISTE: case ID_COMBO: case ID_INTERRUPTEUR: case ID_SELECTEUR: $pclModele->Fc1a6d5f6(TRT_modification_Serveur); return ACTION_WEB_RESULTAT_OK; default: break; } } return parent::F4d821ce0($eAction); } function Fca9da5c1($bObligatoire, &$rpszParam) { $rpszParam = utf8_strchr($rpszParam, cSEPARATEUR_JSON_O); if ($rpszParam === false) { $rpszParam = null; if (false !== $bObligatoire) { return false; } return true; } $rpszParam = utf8_substr($rpszParam,1); return true; } function Ffd8bd845($bObligatoire, &$rpszParam, &$rcszParametre) { $pszParametresDebut = $rpszParam; $bRes = $this->Fca9da5c1($bObligatoire,$rpszParam); if ($bRes) { if (null !== $rpszParam) { $nTaille = utf8_strlen($pszParametresDebut) - utf8_strlen($rpszParam) - 1; } else { $nTaille = utf8_strlen($pszParametresDebut); } $rcszParametre = utf8_substr($pszParametresDebut,0,$nTaille); } return $bRes; } function Fbc393e9e($pszDonneesUTF8) { $pszDonneesUTF8 = parent::Fb29dfdd9($pszDonneesUTF8); if (Fd366f7d9($pszDonneesUTF8)) return $pszDonneesUTF8; $pszDonneesUTF8Debut = $pszDonneesUTF8; XVERIFY($this->Fca9da5c1(false, $pszDonneesUTF8)); $nLongueur = ($pszDonneesUTF8===null) ? utf8_strlen($pszDonneesUTF8Debut) : (strlen($pszDonneesUTF8Debut)-strlen($pszDonneesUTF8)); $cszDonneesUTF8 = utf8_substr($pszDonneesUTF8Debut, 0, $nLongueur); $this->m_pclModele->SetValeur($cszDonneesUTF8); return $pszDonneesUTF8; } } define('nOMM_DEFAUT', 0x00000); define('nOMM_FORCEINVALIDATE', 0x00001); define('nOMM_DESSINIMMEDIAT', 0x00004); define('nOMM_ANIMATION', 0x00008); define('nOMM_CHANGEASCENCEUR', 0x00010); define('nOMM_DEPUISSOUSELEMENT',0x80000000); class CRectangle extends stSTRUCTURE { var $left = 0; var $top = 0; var $right = 0; var $bottom = 0; function F32954654() { return $this->right - $this->left; } function Feec6c4bd() { return $this->bottom - $this->top; } } class CVueBase { var $m_pclModele; var $m_nBloqueUpdate = 0; function CVueBase(&$pclModele) { $this->m_pclModele =& $pclModele; } function& Fda201604() { return $this->m_pclModele; } function F6fb6d0cf( $ePropriete, $nFlag, $nParam = 0) { if ($this->m_nBloqueUpdate == 0) $this->F941a3dcb($ePropriete, $nFlag, $nParam); } function F3c2a17e3( $eVueModif, $nFlag, $nParam = 0) { if ($this->m_nBloqueUpdate == 0) $this->F65a54541($eVueModif, $nFlag, $nParam); } function Fd1b9bf3f($ePropriete, $nIndex, $nFlag, $nParam=0 ) { if ($this->m_nBloqueUpdate == 0) $this->F9bc4c544($ePropriete, $nIndex, $nFlag | nOMM_DEPUISSOUSELEMENT, $nParam); } function Destructeur() { } function Fbfd86bf7(&$pstRectClient) { $pstRectClient->left = 0; $pstRectClient->top = 0; $pstRectClient->right = 0 + $this->m_pclModele->m_nLargeur; $pstRectClient->bottom = 0 + $this->m_pclModele->m_nHauteur; } function Fd6ff1800($clCouleur, $dFacteur = 1.0) { $T = $L = $S = 0; F043b1c5e($clCouleur->m_dwColor,$T,$L,$S); return F5e769b88($T,$L * pow(0.87, $dFacteur),$S); } } class CVueBase_Web extends CVueBase { function CVueBase_Web(&$pclModele) { parent::CVueBase($pclModele); } function F1f68ed08( $clPropCodeHTML, &$pclResultat, &$ppczResultatStatique) { $pclModele =& $this->Fda201604(); switch ($clPropCodeHTML->Fc30871c3()) { case PARTIE_CODEHTML_CONTENUTOTAL: $pclResultat = GetValeur(GetProp($pclModele,'ValeurAffichee')); return true; break; default: break; } $pclResultat=null; $ppczResultatStatique = ''; return true; } } function Fe93a910e(& $rclModele , $pszImage , $bSourceFiable , $pszParam , $eDernier , &$rclGenerateurJSON) { if (empty($pszImage)) { $rclGenerateurJSON->F2f67ca8f($pszParam, $eDernier, ENCODAGE_CHAINE_HTML, ''); return; } $cszImage = $pszImage; if (F19a62e7a($cszImage)) { $cszImage = F10e1ac24($pszImage); } if (F22eab6af($cszImage)) { $rclGenerateurJSON->F2f67ca8f($pszParam, $eDernier, ENCODAGE_CHAINE_HTML, $cszImage); return; } if ( (false != $bSourceFiable) && (F22eab6af($pszImage))) { $clContenuImage = F8ca52887($pszImage); if (!empty($clContenuImage)) { $cszData = "data:" . 'image/png' . ";base64,"; $cszData.= base64_encode($clContenuImage); $rclGenerateurJSON->F2f67ca8f($pszParam, $eDernier, ENCODAGE_CHAINE_HTML, $cszData); return; } } $rclGenerateurJSON->F2f67ca8f($pszParam, $eDernier, ENCODAGE_CHAINE_HTML, $pszImage); } class CWLDSTR { var $m_sChaine; function Fbae7b107($sChaine) { return $this->m_sChaine .= $sChaine; } function F39a9c53a($pszChaine,$nTaille=null) { return $this->Fbae7b107($pszChaine); } function F756d96ef() { $nNbArgsPourConcat = func_get_arg(0); for($i=1; $i<=$nNbArgsPourConcat; ++$i) { $this->Fbae7b107( func_get_arg($i) ); } return $this->m_sChaine; } function Fe47dbb3d($pszChaine) { unset($this->m_sChaine); $this->m_sChaine = null; return $this->m_sChaine = $pszChaine; } function F7cb08843($pszChaine) { return $this->Fe47dbb3d($pszChaine); } function& F8b686221() { return $this->m_sChaine; } function F645d260f($sCherche,$sRempl) { $this->m_sChaine = utf8_str_replace($sCherche,$sRempl,$this->m_sChaine); } } class CHTMLFragment extends CWLDSTR { function CHTMLFragment () { } function& Fd367f2f0() { return $this->F8b686221(); } function F04646cd3($pszNom,$bAutoFermante) { Fe2f2efa3($this->F756d96ef(3 , '<' , $pszNom , $bAutoFermante ? '/>' : '>')); } function F523104c4($pszNom) { Fe2f2efa3($this->F756d96ef(2 , '<' , $pszNom)); } function Fc222401d($bAutoFermante) { Fe2f2efa3($this->Fbae7b107($bAutoFermante ? '/>' : '>')); } function F4beee10b($pszNom) { Fe2f2efa3($this->F756d96ef(3 , '</' , $pszNom , '>')); } function GenereUnAttribut ($pszNom,$pszValeur) { Fe2f2efa3($this->F756d96ef(5 , ' ' , $pszNom , '="' , $pszValeur , '"')); } function Fbd2b7fbb($pszNom, $bValeur) { if ($bValeur) { $this->GenereUnAttribut($pszNom, $pszNom); } } function F5a3ea1dc($pszNom,$pszValeur) { Fe2f2efa3($this->F756d96ef(4 , $pszNom , ':' , $pszValeur , ';')); } } define('cBLOCK_JSON_O' ,'{'); define('cBLOCK_JSON_F' ,'}'); define('wBLOC_JSON_O' ,cBLOCK_JSON_O); define('wBLOC_JSON_F' ,cBLOCK_JSON_F); define('cSEPARATEUR_JSON_O' ,','); define('cSEPARATEUR_JSON_I' ,':'); define('cSEPARATEUR_JSON_STRING','\''); define('wzJS_TRUE' ,'true'); define('wzJS_FALSE' ,'false'); define('szJS_TRUE' ,'true'); define('szJS_FALSE' ,'false'); define('wzSEPARATEUR_JSON_O' ,','); define('wSEPARATEUR_JSON_I' ,':'); define('cTABL_JSON_O' ,'['); define('wTABL_JSON_O' ,cTABL_JSON_O); define('cTABL_JSON_F' ,']'); define('wTABL_JSON_F' ,cTABL_JSON_F); define('DERNIER_NON' ,0); define('DERNIER_OUI' ,1); define('ENCODAGE_SANS',0); define('ENCODAGE_CHAINE',1); define('ENCODAGE_CHAINE_HTML',2); class CJSOn extends CWLDSTR { function CJSOn () { } function F2884ca00() { return utf8_strlen($this->m_sChaine); } function F90fb4c17($bRes, &$rstValeur) { if ( (false !== $bRes) && (!empty($this->m_sChaine))) { $rstValeur->m_clValeur = $this->m_sChaine; $rstValeur->m_bCompatibleUTF8 = true; } else { $rstValeur->m_clValeur = null; $rstValeur->m_pszValeurConst = ''; } return true; } function F03cc81a6() { return $this->F8b686221(); } function F746515c6() { Fe2f2efa3($this->F7cb08843(cBLOCK_JSON_O)); } function F0475def8() { Fe2f2efa3($this->F39a9c53a(cBLOCK_JSON_F)); } function F76ff80d1() { Fe2f2efa3($this->F39a9c53a(cBLOCK_JSON_O)); } function Febbab04c() { Fe2f2efa3($this->F39a9c53a(cBLOCK_JSON_F)); } function F6d63e6cf($pszParam, $bDernier, $cValeur) { $this->Fdd3c5492($pszParam, $bDernier, false, $cValeur, 1); } function F4ccc5457($pszParam, $bDernier, $nValeur) { $czValeur=(string)$nValeur; $this->Fdd3c5492($pszParam, $bDernier, false, $czValeur, utf8_strlen($czValeur)); } function F73871019($pszParam, $eDernier, $dValeur) { $this->F23e52de1($pszParam, $eDernier, false, ($dValeur=='' ? '0' : VersChaine($dValeur))); } function F7373ec8a($pszParam, $bDernier, $bValeur) { $this->Fdd3c5492($pszParam, $bDernier, false, $bValeur ? wzJS_TRUE : wzJS_FALSE, $bValeur ? utf8_strlen(wzJS_TRUE) : utf8_strlen(wzJS_FALSE)); } function F6523e5e5($pszParam, $bDernier,$eEncodage, $rclValeur) { $this->F23e52de1($pszParam, $bDernier, $eEncodage, $rclValeur); } function Fba367465($pszParam, $bDernier,$eEncodage, $rclValeur) { $this->F23e52de1($pszParam, $bDernier, $eEncodage, $rclValeur); } function F2f67ca8f($pszParam, $bDernier, $eEncodage, $rczValeur) { $this->F23e52de1($pszParam, $bDernier, $eEncodage, $rczValeur); } function F23e52de1($pszParam, $bDernier, $eEncodage, $rczValeur) { $czValeurEncode = new CWLDSTR(); $bString=false; switch ($eEncodage) { default: case ENCODAGE_SANS: break; case ENCODAGE_CHAINE: case ENCODAGE_CHAINE_HTML: { $bString = true; $czValeurEncode->F7cb08843($rczValeur); $czValeurEncode->F645d260f("\\", "\\\\"); $czValeurEncode->F645d260f("\n", "\\n"); $czValeurEncode->F645d260f("\r", "\\r"); $czValeurEncode->F645d260f("\t", "\\t"); $czValeurEncode->F645d260f("\"", "\\\""); $czValeurEncode->F645d260f("'", "\\'"); $czValeurEncode->F645d260f("\b", "\\b"); $czValeurEncode->F645d260f("\v", "\\v"); $czValeurEncode->F645d260f("\f", "\\f"); if (ENCODAGE_CHAINE_HTML === $eEncodage) $czValeurEncode->F645d260f("<", "\\x3C"); } } $rczValeur2 = $bString ? $czValeurEncode->F8b686221() : $rczValeur; $this->Fdd3c5492($pszParam, $bDernier, $bString, $rczValeur2, utf8_strlen($rczValeur2)); } function Fd138a53a($pszParam, $eDernier, $bString, $pszValeur, $nTailleValeur) { $this->F13314aff($pszParam, false); if (bString) XVERIFY(bAddCHAR7Bits(cSEPARATEUR_JSON_STRING)); XVERIFY(bAddPSTRAccepteVide(pszValeur, nTailleValeur)); if (bString) XVERIFY(bAddCHAR7Bits(cSEPARATEUR_JSON_STRING)); F8270781f(eDernier); } function F9d08d63c($pwzParam, $eDernier, $bVideSiBlanc, $bVideSiTransparent, $clCouleur) { if (is_object($clCouleur)) $nCouleur = $clCouleur->m_dwColor; else $nCouleur = $clCouleur; if ((false === $bVideSiBlanc) || ($nCouleur !== wlCouleurDefaut)) { if ($nCouleur > 0xFFFFFF ) { $wzCouleurFond = ''; } else { $wzCouleurFond = F5bfcd185($nCouleur); } if (F61196400($wzCouleurFond)) { $this->Fdd3c5492($pwzParam, $eDernier, true, '#' . utf8_strtoupper($wzCouleurFond)); return; } elseif ( (false === $bVideSiTransparent) && ((null === $nCouleur) || (dwCODETranparent === $nCouleur)) ) { $this->Fdd3c5492($pwzParam, $eDernier, true, 'transparent'); return; } } } function F66e5880a($pwzParam, $eDernier, &$rclValeur) { $clOrigine = new CDateTime(0x07B20101, 0); $nDuree = 0; F0744b8b4($rclValeur, $clOrigine, $nDuree); $cszValeurUNICODE = 'new Date(' . $nDuree . ')'; $this->Fdd3c5492($pwzParam, $eDernier, false, $cszValeurUNICODE,utf8_strlen($cszValeurUNICODE)); } function Ff0b0a50e($pwzParam,$eDernier,&$rclValeur) { $this->F4ccc5457($pwzParam, $eDernier, $rclValeur->m_dwHeure ); } function Fdd3c5492($pszParam,$bDernier,$bString, $pszValeur, $nTailleValeur=null) { $this->F13314aff($pszParam,false); if ($bString) Fe2f2efa3($this->F39a9c53a(cSEPARATEUR_JSON_STRING)); Fe2f2efa3($this->F39a9c53a($pszValeur, $nTailleValeur)); if ($bString) Fe2f2efa3($this->F39a9c53a(cSEPARATEUR_JSON_STRING)); $this->F8270781f($bDernier); } function F8270781f($eDernier) { if (DERNIER_NON === $eDernier) Fe2f2efa3($this->F39a9c53a(cSEPARATEUR_JSON_O)); } function F922bd4b1($cCaract) { switch ($cCaract) { case '\\': case '\n': case '\r': case '\t': case '\"': case '\'': case '\b': case '\v': case '\f': return true; default: return false; } } function F13314aff($pwzParam,$bString) { if ('' != $pwzParam) { if ($bString) Fe2f2efa3($this->F39a9c53a(cSEPARATEUR_JSON_STRING)); Fe2f2efa3($this->F39a9c53a($pwzParam)); if ($bString) Fe2f2efa3($this->F39a9c53a(cSEPARATEUR_JSON_STRING)); Fe2f2efa3($this->F39a9c53a(wSEPARATEUR_JSON_I)); } } function F702c3cec($pszParam=null) { if ($pszParam!==null) $this->F13314aff($pszParam, false); Fe2f2efa3($this->F39a9c53a(wTABL_JSON_O)); } function F63a1c0a8($eDernier=null) { if (isset($eDernier) || $eDernier==DERNIER_OUI || F0728da76($this->m_sChaine,wzSEPARATEUR_JSON_O)) { $this->F8270781f($eDernier); Fe2f2efa3($this->F39a9c53a(RC, utf8_strlen(RC))); } else { Fe2f2efa3($this->F39a9c53a(wzSEPARATEUR_JSON_O . RC, utf8_strlen(wzSEPARATEUR_JSON_O . RC))); } } function Ff1f57391($eDernier) { Fe2f2efa3($this->F39a9c53a(wTABL_JSON_F)); $this->F63a1c0a8($eDernier); } function F105675ec($pwzParam=null) { if ($pwzParam!==null) $this->F13314aff($pwzParam,false); Fe2f2efa3($this->F39a9c53a(wBLOC_JSON_O)); } function F1ebdc972($eDernier) { Fe2f2efa3($this->F39a9c53a(wBLOC_JSON_F)); $this->F8270781f($eDernier); } function F8d12b2f5($eDernier) { Fe2f2efa3($this->F39a9c53a(wBLOC_JSON_F)); $this->F63a1c0a8($eDernier); } } class CVueChamp_Web extends CVueBase_Web { function CVueChamp_Web(&$pclModele) { parent::CVueBase_Web($pclModele); } function F1f68ed08($clPropCodeHTML, &$rclResultat, &$rpczResultatStatique) { switch ($clPropCodeHTML->Fc30871c3()) { case PARTIE_CODEHTML_CHAMP_PARAMETRES: return $this->Fdaf42213(array(&$this, 'Fd0d72590'), $rclResultat, $rpczResultatStatique); case PARTIE_CODEHTML_CHAMP_DONNES: return $this->Fdaf42213(array(&$this, 'F5d67aaa5'), $rclResultat, $rpczResultatStatique); default: return parent::F1f68ed08($clPropCodeHTML, $rclResultat, $rpczResultatStatique); } } function F65a54541( $eVueModif,$nFlag, $pParam) { if ($this->m_nBloqueUpdate != 0) return; switch ($eVueModif) { case VUEMODIF_UPDATECOMPLET: case VUEMODIF_UPDATECONTENU: $this->F941a3dcb(PROP_INVALID_MIN, $nFlag, $pParam); break; case VUEMODIF_NONAFFICHE: break; default: } } function F941a3dcb( $ePropriete, $nFlag, $pParam) { $pclModele=&$this->Fda201604(); Fd057c510($pclModele, $ePropriete); } function& Fe6f7fbc2() { return $this; } function Fdaf42213($pfGetJSON, &$rclResultat, &$UNUSED) { $clParametres = new CJSOn(); $clParametres->F746515c6(); call_user_func_array($pfGetJSON,array(DERNIER_OUI,&$clParametres)); $clParametres->F0475def8(); $rclResultat = $clParametres->F8b686221(); return true; } function Fc12ed48a($pfGetJSONTableau, $pwzParam, $nNbElements, $eDernier, &$rclParametres) { $rclParametres->F13314aff($pwzParam,false); $rclParametres->F702c3cec(); for ($nElement = 0; $nElement < $nNbElements; ++$nElement) { if (0 !== $nElement) $rclParametres->F63a1c0a8(); call_user_func_array($pfGetJSONTableau,array($nElement,&$rclParametres,$nElement+1 == $nNbElements)); } $rclParametres->Ff1f57391($eDernier); } function Fb2ee33d9($pfGetJSONTableau, $pwzParam, $nNbElements, &$rclParametres) { for ($nElement = 0; $nElement < $nNbElements; ++$nElement) { $eDernier = ($nElement < ($nNbElements - 1)) ? DERNIER_NON : DERNIER_OUI; call_user_func_array($pfGetJSONTableau,array($nElement,&$rclParametres)); } } } class CObjetAPcode extends CTypeComparable { var $m_bInitialise = false; var $m_pclChampConteneur = null; var $m_pclChampParent = null; var $Nom; var $Alias; var $Valeur; var $Libelle; var $Visible; var $Etat; var $Couleur; var $CouleurFond; var $URL; var $CouleurInitiale; var $CouleurFondInitiale; var $m_nHauteur = 0; var $m_nLargeur = 0; var $m_sBulle; var $m_sHTMLAvant; var $m_sHTMLApres; var $m_nCadrageHorizontal = 0; var $m_nCadrageVertical = 0; var $m_Police; var $m_nX; var $m_nY; var $m_nCurseur; var $m_czCurseurSouris; var $m_nOpacite = 100; var $m_sTitre; var $m_sTitreNote; var $m_sNote; var $m_bParentRelatif = false; var $ValeurInitiale = null; var $ContenuInitial = null; var $m_eDndCible; var $m_eDndSource; var $m_bLibelleRiche = false; var $m_sClasseSupp=''; function CObjetAPcode() { $this->m_eDndCible = 0; $this->m_eDndSource= 0; } function& Fd1c22179() { return $this->m_pclChampParent; } function& Fa75653c5() { return $this->m_pclChampConteneur; } function Feb661866() { XASSERTC(false,Fd7624002("Cette méthode est abstraite. Elle doit être surchargée")); return -1; } function& Fe6ae3e7c() { return $this; } function Fa302cf0d() { } function Fd464306b() { return $this->GetNom(); } function F317347df() { return $this->Alias; } function Faafabe08(&$piVisiteur, $pclChamp) { return 0; } function F3b14fdc3( $clValeur, $clCouleurDefaut, $clCouleurSysteme) { FMK_Charge('FMK/Dessin/Couleur.php',false); $dwCouleur = F075ca95b($clValeur); switch ($dwCouleur) { case dwCouleurDefaut: if ($clCouleurDefaut->Fd061cc94() != false) return $clCouleurDefaut; case dwCouleurSysteme: if ($clCouleurSysteme->Fd061cc94() != false) return $clCouleurSysteme; default: break; } return $dwCouleur; } function& F3a0a4a7c( $clCouleur) { if (!is_object($clCouleur)) return $clCouleur; $nCoul=0; if ($clCouleur->F38db1168()) { $nCoul = -1; } else { $nCoul = $clCouleur->m_dwColor; } return $nCoul; } function F48668562( &$pclObjet) { if (XVER_DEBUG) { } return ($pclObjet != null) ? $pclObjet->F87d9a981() : null; } function F90ac0248() { return $this->F3b9ec4ca(); } } class CObjetAPCodePage extends CObjetAPcode { function CObjetAPCodePage() { parent::CObjetAPcode(); } } $eELEMENTSTYLE = 0; define('ELEMENTSTYLE_CALENDRIER_JOURBASE',$eELEMENTSTYLE++); define('ELEMENTSTYLE_CALENDRIER_JOURSELECTION',$eELEMENTSTYLE++); define('ELEMENTSTYLE_CALENDRIER_JOURAUJOURDHUI',$eELEMENTSTYLE++); define('ELEMENTSTYLE_CALENDRIER_JOURSAMEDI',$eELEMENTSTYLE++); define('ELEMENTSTYLE_CALENDRIER_JOURDIMANCHE',$eELEMENTSTYLE++); define('ELEMENTSTYLE_CALENDRIER_JOURHORSBORNES',$eELEMENTSTYLE++); define('ELEMENTSTYLE_CALENDRIER_JOURHORSMOIS',$eELEMENTSTYLE++); define('ELEMENTSTYLE_CALENDRIER_JOURLIGNEPAIR',$eELEMENTSTYLE++); define('ELEMENTSTYLE_CALENDRIER_JOURLIGNEIMPAIR',$eELEMENTSTYLE++); define('ELEMENTSTYLE_CALENDRIER_LIBMOIS',$eELEMENTSTYLE++); define('ELEMENTSTYLE_CALENDRIER_LIBJOURSEMAINE',$eELEMENTSTYLE++); define('ELEMENTSTYLE_CALENDRIER_BTNSUIVPREC',$eELEMENTSTYLE++); define('ELEMENTSTYLE_CALENDRIER_BTNAUJOURDHUI',$eELEMENTSTYLE++); define('ELEMENTSTYLE_CALENDRIER_JOURFERIE',$eELEMENTSTYLE++); define('ELEMENTSTYLE_CALENDRIER_GENERAL',$eELEMENTSTYLE++); define('ELEMENTSTYLE_AGENDA_LIBHEURE',$eELEMENTSTYLE++); define('ELEMENTSTYLE_AGENDA_RENDEZVOUS',$eELEMENTSTYLE++); define('ELEMENTSTYLE_AGENDA_RENDEZVOUSSELECT',$eELEMENTSTYLE++); define('ELEMENTSTYLE_AGENDA_LIBCONTENU',$eELEMENTSTYLE++); define('ELEMENTSTYLE_AGENDA_LIBCONTENUSELECT',$eELEMENTSTYLE++); define('ELEMENTSTYLE_REGLETTE_BASE',$eELEMENTSTYLE++); define('ELEMENTSTYLE_REGLETTE_PREMIER',$eELEMENTSTYLE++); define('ELEMENTSTYLE_REGLETTE_PRECEDENT',$eELEMENTSTYLE++); define('ELEMENTSTYLE_REGLETTE_AVANTCOURANT',$eELEMENTSTYLE++); define('ELEMENTSTYLE_REGLETTE_PAGECOURANTE',$eELEMENTSTYLE++); define('ELEMENTSTYLE_REGLETTE_APRESCOURANT',$eELEMENTSTYLE++); define('ELEMENTSTYLE_REGLETTE_SUIVANT',$eELEMENTSTYLE++); define('ELEMENTSTYLE_REGLETTE_DERNIER',$eELEMENTSTYLE++); define('ELEMENTSTYLE_REGLETTE_SEPARATEUR_NONINDICE',$eELEMENTSTYLE++); define('ELEMENTSTYLE_REGLETTE_SEPARATEUR_INDICE',$eELEMENTSTYLE++); define('ELEMENTSTYLE_LIGNE_IMPAIRE',$eELEMENTSTYLE++); define('ELEMENTSTYLE_LIGNE_PAIRE',$eELEMENTSTYLE++); define('ELEMENTSTYLE_AGENDA_LIBNUMEROSEMAINE',$eELEMENTSTYLE++); define('ELEMENTSTYLE_AGENDA_LIBNOMMOIS',$eELEMENTSTYLE++); define('ELEMENTSTYLE_AGENDA_JOURNEECOMPLETE',$eELEMENTSTYLE++); define('ELEMENTSTYLE_CALENDRIER_MIN',ELEMENTSTYLE_CALENDRIER_JOURBASE); define('ELEMENTSTYLE_CALENDRIER_MAX',ELEMENTSTYLE_CALENDRIER_GENERAL); define('ELEMENTSTYLE_MIN',ELEMENTSTYLE_CALENDRIER_MIN); define('ELEMENTSTYLE_MAX',ELEMENTSTYLE_CALENDRIER_MAX); unset($eELEMENTSTYLE); class CModeleCommun extends CObjetAPCodePage { var $m_pclVue; var $m_pclControleur; var $m_pclStyle; var $m_clCouleur; var $m_clCouleurFond; function CModeleCommun() { parent::CObjetAPCodePage(); $this->m_pclVue = null; $this->m_pclControleur = null; $this->m_clCouleur = Ffc5d2da8(); $this->m_clCouleurFond = F89c1612f(); } function Fe40b8426() { $this->F4d437c96(VUECONTROLEUR_TYPE_WEB, VUECONTROLEUR_TYPE_WEB); } function F7593ffad($dwFlags) { } function Fb560a68a( $dwFlags) { if ($this->m_sBulle!='') $this->F48f1d9bc($this->m_sBulle); $this->m_clCouleurInitiale = $this->F0001028f(); $this->m_clCouleurFondInitiale = $this->F55933098(); } function& F0001028f() { return $this->m_clCouleur; } function& F55933098() { return $this->m_clCouleurFond; } function F12f87182() { if ( Fb9e14d9b( $this->F2d291cd8() ) ) return E_FAIL; return NOERROR; } function F2d291cd8() { $this->m_pclStyle = new CStyle($this->F1d7e9a17()); return isset($this->m_pclStyle) ? NOERROR : E_FAIL; } function F12828e6d( $eTypeVue) { return null; } function F56660bf0( $eTypeControleur) { return null; } function F4d437c96( $eVueType, $eControleurType) { $this->F6b9885bd(); $this->m_pclVue = $this->F12828e6d($eVueType); $this->m_pclControleur = $this->F56660bf0($eControleurType); if (XVER_DEBUG) { if (isset($this->m_pclVue)) { } if (isset($this->m_pclControleur)) { } } } function F6b9885bd() { if (isset($this->m_pclVue)) { F3d2e5bce($this->m_pclVue); $this->m_pclVue = null; } if (isset($this->m_pclControleur)) { F3d2e5bce($this->m_pclControleur); $this->m_pclControleur = null; } } function& F1d7e9a17() { return getRef(null); } function Fcb3f463f() { return ($this->Etat == ETAT_CHAMP_GRISE); } function F15b7cc2d() { return ($this->Etat == ETAT_CHAMP_AFF_SANS_SEL); } function F917c0a49() { return new CCouleur($this->CouleurInitiale); } function F3c2a17e3( $eVueModif, $pParam = 0) { if (isset($this->m_pclVue)) $this->m_pclVue->F3c2a17e3($eVueModif, nOMM_DEFAUT, $pParam); } function F6fb6d0cf( $ePropriete, $pParam = 0) { if (isset($this->m_pclVue )) $this->m_pclVue->F6fb6d0cf($ePropriete, nOMM_DEFAUT, $pParam); } function Fd1b9bf3f($ePropriete, $nIndex, $nFlag, $pParam = 0) { if (($this->m_pclVue !== null)) $this->m_pclVue->Fd1b9bf3f($ePropriete, $nIndex, $nFlag, $pParam); } function F01181feb( $pszNom) {return (utf8_strcasecmp($this->GetNom(),$pszNom)==0);} function F30919d3e( $pszName, $eTypeRech) { if ( $eTypeRech == RECH_CHILDDIRECT) return null; if ($pszName == '') return null; if ($this->F01181feb( $pszName )) return this; if ( $eTypeRech == RECH_ANY ) { $clVM =& obtenirVM(); $sNomChamp = $clVM->F67af5b5c($pszName ); $pclRes=null; if (isset($sNomChamp)) $pclRes =& F9abbf335($sNomChamp,IND_ANY); return $pclRes; } return null; } function& Faee05823() { return $this->m_pclVue; } function Fc1a6d5f6($nIdPcode,$ptabParams=null ) { $tabParams = array($this->m_sNomPHP,$nIdPcode,false,false); if (isset($ptabParams)) $tabParams = array_merge($tabParams,$ptabParams); return call_user_func_array('ExecuteTraitement',$tabParams); } function& Fd2aab3df() { return $this->m_pclStyle; } function& vpclGetElementStyleCadreLibelle ($eElement, $tabCouleurPrincipale = null) { $null = null; return $null; } } define('VUECONTROLEUR_TYPE_SANS',0); define('VUECONTROLEUR_TYPE_WIN32',1); define('VUECONTROLEUR_TYPE_WPF',2); define('VUECONTROLEUR_TYPE_WEB',3); define('VUECONTROLEUR_TYPE_MAX',VUECONTROLEUR_TYPE_WEB); class CWebCommun extends CModeleCommun { function CWebCommun() { parent::CModeleCommun(); } } ?>