<?php
//20.0.56.0 FMK/Disque/Repertoire.php GF 
//VersionVI: 30F200066p
//(c) 2005-2012 PC SOFT  - Release
 define('FMK_Disque_Repertoire',true); if (!defined('__INC__FMK/Chaine.php')) { define('__INC__FMK/Chaine.php',true); include_once(WB_INCLUDE_PATH.'WD55acb2e708e26f23cb8956cd93e98123.php'); } if (!defined('__INC__FMK/Disque.php')) { define('__INC__FMK/Disque.php',true); include_once(WB_INCLUDE_PATH.'WD99bd5984d9c78e9239c729a52b83e562.php'); } function Fd0f24521($NomRep) { if (is_dir($NomRepACP=F9486bf1a($NomRep)) || is_file($NomRepACP) || Fb4eb72a2($NomRep)) return true; $Pre = F8df7b692(dirname($NomRepACP)); if ($Pre == $NomRep){ return false; } if (!Fd0f24521($Pre)){ return false; } F6b1e3687(); $bOperationReussie = mkdir($NomRepACP); F1e7b0563(); if (!$bOperationReussie){ return false; } return true; } function F6a46867d($CheminFichier) { return F0ac3fb91($CheminFichier,F2e9b4751($CheminFichier)); } function F2e9b4751($CheminFichier) { $PosSepRep = utf8_strrpos($CheminFichier,SeparateurRepertoire); $PosSepURL = utf8_strrpos($CheminFichier,SepRepURL); return ($PosSepRep === false) ? (($PosSepURL === false) ? SeparateurRepertoire : SepRepURL) : (($PosSepURL === false) ? SeparateurRepertoire : (($PosSepRep > $PosSepURL) ? SeparateurRepertoire : SepRepURL)); } function Fe3b56f25($CheminFichier) { return F0728da76($CheminFichier,F2e9b4751($CheminFichier)); } function F0ac3fb91($Chaine, $Sparateur = SeparateurRepertoire) { $Chaine = utf8_trim($Chaine); return $Chaine . ( ( ($Chaine == "") || F0728da76($Chaine,$Sparateur) || F0728da76($Chaine,SepRepURL) ) ? "" : $Sparateur); } function Fcb67c520( $sChaine ) { $nLongueurChaine = strlen($sChaine); if ($nLongueurChaine > 0) { return ( ($sChaine[$nLongueurChaine-1]==SeparateurRepertoire) || ($sChaine[$nLongueurChaine-1]==SepRepURL) ) ? substr($sChaine,0,$nLongueurChaine-1) : $sChaine; } else { return ''; } } function Fdbd19e8c($sCheminFichier, $nOptions = null) { if (!isset($nOptions)) $nOptions = frRecursif | frIgnoreErreur; $bRecursif = ($nOptions & frRecursif); if ($nOptions & frNonRecursif) $bRecursif = false; $total_size = 0; $path = F0ac3fb91($sCheminFichier); $filesACP = Fca31fe74($path); foreach($filesACP as $t) { if (is_dir($t) && $bRecursif) { if ($t!="." && $t!="..") { $total_size += Fdbd19e8c($path . F8df7b692($t)); } } else { $size = F53e7b3e7($path . F8df7b692($t)); if ($size == RetourErreur_Entier) { if (F5f7235e7($nOptions , frIgnoreErreur)) { return RetourErreur_Entier; } } else { $total_size += $size; } } } return $total_size; } function Fca31fe74($dir) { if (PHPVERSION_5) return scandir(F9486bf1a($dir)); $files = array(); $dh = opendir(F9486bf1a($dir)); while (false !== ($filename = readdir($dh))) { $files[] = $filename; } return $files; } function Fb388ca29($sSource, $sDestination, $nIndicateur=null) { $source = F0ac3fb91($sSource); $target = F0ac3fb91($sDestination); $bRecursif = ($nIndicateur & frRecursif); $bRetour = true; if ( is_dir( $sourceACP=F9486bf1a($source) ) ) { Fd0f24521( $target ); $d = opendir( $sourceACP ); while ( false !== ( $entry = readdir($d) ) ) { if ( $entry == '.' || $entry == '..' ) continue; $sEntryCompletACP = $sourceACP . $entry; if ( is_dir( $sEntryCompletACP ) && $bRecursif) { if (!Fb388ca29( F8df7b692($sEntryCompletACP), $target . F8df7b692($entry) )) { $bRetour = false; } } else { if (!Ff116711f( F8df7b692($sEntryCompletACP), $target . F8df7b692($entry) )) { $bRetour = false; } } } closedir($d); } else { $bRetour = Ff116711f( $source, $target ); } return $bRetour && Fb593fee5($source); } ?>