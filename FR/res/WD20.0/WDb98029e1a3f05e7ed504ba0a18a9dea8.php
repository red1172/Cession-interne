<?php
//20.0.56.0 FMK/Dependance.php GF 
//VersionVI: 30F200066p
//(c) 2005-2012 PC SOFT  - Release
 define('FMK_Dependance',true); if (!defined('__INC__FMK/Dependance/Extension.php')) { define('__INC__FMK/Dependance/Extension.php',true); include_once(WB_INCLUDE_PATH.'WDfc8287ab7af71ef561fd5023862234be.php'); } class FMK_Dependance_Resultat { var $m_bPresent; var $m_sErreur = ''; function FMK_Dependance_Resultat($bPresent) { $this->m_bPresent = $bPresent; } } class FMK_Dependance { var $m_tabExtensions = array(); var $m_tabExtensionsTestees = array(); function FMK_Dependance() { $extDependance = new FMK_Dependance_Extension(); $extDependance->setNom('mbstring'); $extDependance->Fffda00ea('php_mbstring.dll'); $extDependance->F970c84bc('mb_convert_encoding'); $this->m_tabExtensions[$extDependance->getNom()] = $extDependance; $extDependance = new FMK_Dependance_Extension(); $extDependance->setNom('iconv'); $extDependance->F970c84bc('iconv'); $this->m_tabExtensions[$extDependance->getNom()] = $extDependance; $extDependance = new FMK_Dependance_Extension(); $extDependance->setNom('gd'); $extDependance->Fffda00ea('php_gd2.dll'); $extDependance->F970c84bc('gd_info'); $this->m_tabExtensions[$extDependance->getNom()] = $extDependance; $extDependance = new FMK_Dependance_Extension(); $extDependance->setNom('sockets'); $extDependance->Fffda00ea('php_sockets.dll'); $extDependance->F970c84bc('socket_create'); $this->m_tabExtensions[$extDependance->getNom()] = $extDependance; $extDependance = new FMK_Dependance_Extension(); $extDependance->setNom('mhash'); $extDependance->Fffda00ea('php_mhash.dll'); $extDependance->F970c84bc('mhash_get_hash_name'); $this->m_tabExtensions[$extDependance->getNom()] = $extDependance; $extDependance = new FMK_Dependance_Extension(); $extDependance->setNom('domxml'); $extDependance->Fffda00ea('php_domxml.dll'); $extDependance->F55f21141('DOMDocument'); $this->m_tabExtensions[$extDependance->getNom()] = $extDependance; $extDependance = new FMK_Dependance_Extension(); $extDependance->setNom('openssl'); $extDependance->Fffda00ea('php_openssl.dll'); $extDependance->F970c84bc('openssl_verify'); $this->m_tabExtensions[$extDependance->getNom()] = $extDependance; } function F2b3d43d2(){ $bOk = true; foreach ($this->m_tabExtensions as $cextValeur){ if (!$this->F0b5f8f06($cextValeur->getNom())) $bOk = false; } return $bOk; } function F0b5f8f06($sNom,$bErreurSiNonTrouve=true) { if (!is_string($sNom)) return false; if (array_key_exists($sNom,$this->m_tabExtensionsTestees)) { if ($bErreurSiNonTrouve && $this->m_tabExtensionsTestees[$sNom]->m_sErreur!=='') F853b7085($this->m_tabExtensionsTestees[$sNom]->m_sErreur); return $this->m_tabExtensionsTestees[$sNom]->m_bPresent; } if (!array_key_exists($sNom,$this->m_tabExtensions)) $this->m_tabExtensions[$sNom] = new FMK_Dependance_Extension($sNom); $extensionInfo = $this->m_tabExtensions[$sNom]; if (!is_object($extensionInfo)) return false; $bErreur = ''; $this->m_tabExtensionsTestees[$extensionInfo->getNom()] = new FMK_Dependance_Resultat(true); if (!extension_loaded ($extensionInfo->getNom())) { $sErreur = 'Extension ' . $extensionInfo->getNom() . ' requise n\'est pas charg&eacute;e' . RC; $this->m_tabExtensionsTestees[$extensionInfo->getNom()]->m_sErreur = $sErreur; if ($extensionInfo->F485126e1()!='') { if (function_exists('dl') && @dl($extensionInfo->F485126e1())) { $sErreur= 'L\'extension ' . $extensionInfo->getNom() .(' a &eacute;t&eacute; charg&eacute; dynamiquement depuis ') . $extensionInfo->F485126e1(); $this->m_tabExtensionsTestees[$extensionInfo->getNom()]->m_sErreur = $sErreur; } else { $sErreur= 'L\'extension ' . $extensionInfo->getNom() .(' n\'a pas pu &ecirc;tre charg&eacute;e dynamiquement depuis ') . $extensionInfo->F485126e1(); $this->m_tabExtensionsTestees[$extensionInfo->getNom()]->m_sErreur = $sErreur; $this->m_tabExtensionsTestees[$extensionInfo->getNom()]->m_bPresent = false; } } else { $sErreur= 'L\'extension ' . $extensionInfo->getNom() .(' n\'est pas charg&eacute;e'); $this->m_tabExtensionsTestees[$extensionInfo->getNom()]->m_sErreur = $sErreur; $this->m_tabExtensionsTestees[$extensionInfo->getNom()]->m_bPresent = false; } } else { $sVersionActuelle = phpversion($extensionInfo->getNom()); if ( ($sVersionActuelle!='') && ($extensionInfo->F876820fd()!='') && (version_compare($sVersionActuelle,$extensionInfo->F876820fd())==-1)) { $sErreur = 'Le module ' . $extensionInfo->getNom() . (' doit &ecirc;tre d\'une version >=').$extensionInfo->F876820fd().' (version courante: '.$sVersionActuelle.')' . RC; $this->m_tabExtensionsTestees[$extensionInfo->getNom()]->m_sErreur = $sErreur; $this->m_tabExtensionsTestees[$extensionInfo->getNom()]->m_bPresent = false; } elseif (is_array($tabFonctions = get_extension_funcs(strtolower($extensionInfo->getNom())))) { $bErreur = false; foreach ($extensionInfo->F9653c86e() as $sNomFonction){ if (!in_array($sNomFonction,$tabFonctions)){ $sErreur = 'La fonction ' . $sNomFonction . (' est n&eacute;cessaire &agrave; '). $extensionInfo->getNom() .' (version '.$extensionInfo->F876820fd().')' . RC; $this->m_tabExtensionsTestees[$extensionInfo->getNom()]->m_sErreur = $sErreur; $bErreur = true; } } if ($bErreur) { $this->m_tabExtensionsTestees[$extensionInfo->getNom()]->m_bPresent = false; } else { foreach ($extensionInfo->F7ec8ac97() as $sNomClasse){ if (!class_exists($sNomClasse)) { $sErreur = 'La classe ' . $sNomClasse . (' est n&eacute;cessaire  '). $extensionInfo->getNom() .' (version '.$extensionInfo->F876820fd().')' . RC; $this->m_tabExtensionsTestees[$extensionInfo->getNom()]->m_sErreur = $sErreur; $bErreur = true; } } if ($bErreur) { $this->m_tabExtensionsTestees[$extensionInfo->getNom()]->m_bPresent = false; } } } } if (false===$this->m_tabExtensionsTestees[$extensionInfo->getNom()]->m_bPresent) { if ($bErreurSiNonTrouve) F853b7085($this->m_tabExtensionsTestees[$extensionInfo->getNom()]->m_sErreur); return false; } return true; } } $_FMK_Dependance = null; function& FMK_Dependance() { global $_FMK_Dependance; if (!isset($_FMK_Dependance)) { $_FMK_Dependance = new FMK_Dependance(); } return $_FMK_Dependance; } ?>