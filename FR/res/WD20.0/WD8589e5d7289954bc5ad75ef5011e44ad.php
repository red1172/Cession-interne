<?php
//20.0.56.0 Engine.php GF 
//VersionVI: 30F200066p
//(c) 2005-2012 PC SOFT  - Release
 if (!defined('__INC__FMK/Chaine.php')) { define('__INC__FMK/Chaine.php',true); include_once(WB_INCLUDE_PATH.'WD55acb2e708e26f23cb8956cd93e98123.php'); } define('DepuisValeur' , 2); define('DepuisReference', 4); function& VerifieMethodeEtAppel( $szNomClasse, $szNomMethode, $szNomPCode, $szTypeChamp, &$clChamp ) { $RetourParDefaut = null; if( (!is_object($clChamp)) || (!is_callable(array($clChamp,$szNomMethode))) ) { if (is_string($clChamp) && $clChamp=='') { $VMMgr =& F08aafbb0(); $clChamp = $VMMgr->F9faba883(); } $clChamp =& F9abbf335(GetNomChamp($clChamp),IND_CHAMP); } if ( is_object($clChamp) ) { if (is_callable(array($clChamp,$szNomMethode))) { $tab = array_slice( func_get_args( ), 5 ) ; if (PHPVERSION_5_3) foreach (array_keys($tab) as $tabindex) $tab[$tabindex] =& $tab[$tabindex]; $return = call_user_func_array( array(&$clChamp,$szNomMethode),$tab ) ; return $return; } Erreur('ErreurTypePremierParametre', $szNomPCode, $szNomMethode, $szTypeChamp, F3b9ec4ca( $clChamp ) ) ; } else { Erreur('ErreurTypePremierParametre', $szNomPCode, $szNomMethode, $szTypeChamp, F3b9ec4ca( $clChamp ) ) ; } return $RetourParDefaut; } function& ANY2STR( $Any ) { if (is_bool($Any)) $return = $Any ? '1' : '0'; $return = (string)$return; return $return; } function& WB_Boucle_Pour(&$Boucle, &$BorneMin, &$BorneMax, $Pas=null, $bBorneMaxFixe = null) { FMK_Charge('WL/Syntaxe/Pour.php',false); if (!isset($Pas) || ($Pas>0)) { $Boucle = new FMK_Boucle_Pour($BorneMin, $BorneMax, $Pas, $bBorneMaxFixe ); } else { $Boucle = new FMK_Boucle_PourInverse($BorneMin, $BorneMax, $Pas, $bBorneMaxFixe ); } return $Boucle->F955a967d(); } function& WB_Boucle_Pour_Tout_Chaine(&$Boucle, $sGrandeChaine,$sSeparator=null,$Sens = null) { FMK_Charge('WL/Syntaxe/PourToutChaine.php',false); $Boucle = new FMK_Boucle_Pour_Tout_Chaine($sGrandeChaine,$sSeparator,$Sens); return $Boucle->m_ElementCourant; } function& WB_Boucle_Pour_Tout_Position(&$Boucle, $sGrandeChaine,$sRecherche,$Sens=null) { FMK_Charge('WL/Syntaxe/PourToutChaine.php',false); $Boucle = new FMK_Boucle_Pour_Tout_Position($sGrandeChaine,$sRecherche,$Sens); return $Boucle->m_ElementCourant; } function& WB_Boucle_Pour_Tout_Element(&$Boucle, &$Tableau ,&$Cle, &$Iterateur, $CleFiltre, $nOption) { FMK_Charge('WL/Syntaxe/PourToutElement.php',false); $Boucle = new FMK_Boucle_Pour_Tout_Element($Tableau,$Cle, $Iterateur, $CleFiltre, $nOption); return $Boucle->m_ElementCourant; } function WB_Boucle_Pour_Tout_Fichier(&$Boucle,&$pclFichier,&$pclRubrique,$nComparaison,$sFiltre=null,$bAscendant=true) { $Boucle = new FMK_Boucle_Pour_Tout_Fichier($pclFichier,$pclRubrique,$nComparaison,$sFiltre, $bAscendant); } function& WB_Boucle_Pour_Tout_Champ(&$Boucle,&$pclChamp,&$pclIterateur,$bUniquementSelectionnees=false) { $Boucle = new FMK_Boucle_Pour_Tout_Champ($pclChamp,$pclIterateur,$bUniquementSelectionnees); return $Boucle->m_nIdiceLigneCourante; } class FMK_Boucle_Pour_Tout_Champ { var $m_pclChamp; var $m_bUniquementSelectionnees; var $m_pclIterateur; var $m_nIdiceLigneCourante; var $m_nIndiceLigneSelectionneeOriginelle; var $m_tabLignesSelectionnees; var $m_nNbLignesSelectionnees; function FMK_Boucle_Pour_Tout_Champ(&$pclChamp,&$pclIterateur,$bUniquementSelectionnees) { $this->m_pclChamp =& $pclChamp; $this->m_nIndiceLigneSelectionneeOriginelle = intval($this->m_pclChamp->Valeur); CreerType($pclIterateur,(is_object($pclIterateur) ? $pclIterateur->m_sNomWL : null),TYPEWL_NOMBRE,0); $this->m_pclIterateur =& $pclIterateur; $this->m_nIdiceLigneCourante = (($nOccurrence=VersPrimitif(GetProp($pclChamp,'Occurrence'))) > 0) ? 0 : null; $this->m_bUniquementSelectionnees = $bUniquementSelectionnees; $tabLigneSelectionnees = $this->m_pclChamp->Fc8e0ba0f(); if (!is_array($tabLigneSelectionnees)) { $this->m_tabLignesSelectionnees = array($tabLigneSelectionnees=>1); } else { $this->m_tabLignesSelectionnees = ($nOccurrence>0) ? array_fill(1,$nOccurrence,0) : array(); foreach ($tabLigneSelectionnees as $nIndiceSelectionne => $bEstSelectionne) { $this->m_tabLignesSelectionnees[$nIndiceSelectionne] = $bEstSelectionne; } } unset($tabLigneSelectionnees); $this->m_nNbLignesSelectionnees = 0; foreach ($this->m_tabLignesSelectionnees as $nIndice => $bSel) { if ($bSel) { ++$this->m_nNbLignesSelectionnees; } } $this->continuer(); } function bContinuer() { return isset($this->m_nIdiceLigneCourante) ? ($this->m_nIdiceLigneCourante <= $this->m_pclChamp->GetOccurrence()) : false; } function continuer() { $this->m_pclIterateur->Fa05668f4(); if ($this->m_bUniquementSelectionnees) { if ($this->m_pclIterateur->m_Valeur <= $this->m_nNbLignesSelectionnees) { foreach ($this->m_tabLignesSelectionnees as $selection=>$b ) { if ($b) { if ($selection <= $this->m_nIdiceLigneCourante) { continue; } $this->m_nIdiceLigneCourante = $selection; break; } } } else { $this->m_nIdiceLigneCourante = null; } } else { ++$this->m_nIdiceLigneCourante; } if ($this->bContinuer()) { $this->m_pclChamp->F37bb1c9f($this->m_nIdiceLigneCourante); } else { $this->m_pclChamp->SetValeur($this->m_nIndiceLigneSelectionneeOriginelle); $this->m_pclChamp->ListeSelectMoins(); foreach ($this->m_tabLignesSelectionnees as $selection=>$b ) {if ($b) $this->m_pclChamp->ListeSelectPlus($selection); } } } } ?>