<?php
//20.0.56.0 TYPE/Chaine.php GF 
//VersionVI: 30F200066p
//(c) 2005-2012 PC SOFT  - Release
 if (!defined('__INC__TYPE/Modele.php')) { define('__INC__TYPE/Modele.php',true); include_once(WB_INCLUDE_PATH.'WD6ee9539c0ad66df976b95a68703645fb.php'); } class CVariant extends CTypeComparable { function CVariant($Valeur = null) { parent::CTypeAvecPropriete($Valeur); } function F9d1a8478() { return null; } function& F1e21db15() { $t = TYPEWL_VARIANT; return $t; } function& Fa4014e81( $compare ) { if (is_string($this->m_Valeur)) { $nRetour = strcmp($this->Fc424b461(),VersChaine($compare)); } else { $v =& GetValeur($compare); $nRetour = ($this->m_Valeur == $v) ? 0 : ( ($this->m_Valeur > $v) ? 1 : -1 ); } return $nRetour; } function& Fa05668f4($param = null) { if (is_string($this->m_Valeur)) { if (!isset($param)) { return Erreur("ErreurGenerique",FMK_ChaineConstruit(Fc34ec142("OPERATEUR_INDISPONIBLE"),F9dbbbee0(32865),$this->F3b9ec4ca())); } $this->SetValeur($this->F791b7c6d($param)); return $this->GetValeur(); } return parent::Fa05668f4($param); } function& F791b7c6d($param=null) { if (!isset($param)) { return $this->GetValeur(); } if (is_string($this->m_Valeur)) { $Resultat = $this->Fc424b461() . $param->Fc424b461(); return $Resultat; } return parent::F791b7c6d($param); } } class CChaine extends CTypeComparable { var $m_nTaille; function CChaine($Valeur = null) { $this->m_nTaille = null; if (is_array($Valeur)) { $this->m_nTaille = $Valeur[0] ; parent::CTypeAvecPropriete($Valeur[1]); } else parent::CTypeAvecPropriete($Valeur); } function F9d1a8478() { return ''; } function F1b8e122c($Valeur) { if (!isset($Valeur)) return null; elseif (is_object($Valeur)) return $this->F1b8e122c($Valeur->GetValeur()); return (string)((isset($this->m_nTaille)) ? utf8_substr($Valeur,0,$this->m_nTaille) : $Valeur); } function& F1e21db15() { $t = UNICODE_PAGE_UTF8 ? TYPEWL_CHAINE_UNICODE : TYPEWL_CHAINE; return $t; } function& F5e73eabc($param = null) { if (!isset($param)) { return Erreur("ErreurGenerique",FMK_ChaineConstruit(Fc34ec142("OPERATEUR_INDISPONIBLE"),F9dbbbee0(32867),$this->F3b9ec4ca())); } return Erreur("ErreurGenerique",FMK_ChaineConstruit(Fc34ec142("OPERATEUR_INDISPONIBLE"),F9dbbbee0(28775),$this->F3b9ec4ca())); } function& Fa05668f4($param = null) { if (!isset($param)) { return Erreur("ErreurGenerique",FMK_ChaineConstruit(Fc34ec142("OPERATEUR_INDISPONIBLE"),F9dbbbee0(32865),$this->F3b9ec4ca())); } $this->SetValeur($this->F791b7c6d($param)); return $this->GetValeur(); } function& F791b7c6d($param=null) { if (!isset($param)) { return $this->GetValeur(); } $Resultat = $this->Fc424b461() . $param->Fc424b461(); return $Resultat; } function F0a8d83f4() { return TYPE_XML_CHAINE; } function F35be7f7f() { $strValeur = parent::F35be7f7f(); $nTaille = strlen($strValeur); for($i=0;$i<$nTaille;++$i) { switch(ord($strValeur[$i])) { case 0 : case 1 : case 2 : case 3 : case 4 : case 5 : case 6 : case 7 : case 8 : case 11 : case 12 : case 14 : case 15 : case 16 : case 17 : case 18 : case 19 : case 20 : case 21 : case 22 : case 23 : case 24 : case 25 : case 26 : case 27 : case 28 : case 29 : case 30 : case 31 : { Fe81a7f9e("ERR_SERIALISATION_CHAINE", $strValeur[$i]); } } } return F2e64c347($strValeur); } function F4629642a($strValeur) { parent::F4629642a(F20a20535($strValeur)); } } function F2e64c347($strValeur) { $buffer = ''; $length = strlen($strValeur); for($i=0;$i<$length;++$i) { switch($strValeur[$i]) { case '&' : $buffer .= "&amp;"; break; case '\'' : $buffer .= "&apos;"; break; case '\"' : $buffer .= "&quot;"; break; case '<' : $buffer .= "&lt;"; break; case '>' : $buffer .= "&gt;"; break; default : $buffer .= ($strValeur[$i]); break; } } return (string)$buffer; } function F20a20535($strValeur) { $buffer = ''; $nPosition = strpos($strChaine,'&'); if($nPosition < 0) { return $strChaine; } $nIndex = 0; do { $buffer.=substr($strChaine,$nIndex, $nPosition); $nIndex = 0; $strChaine = substr($strChaine,$nPosition); if(F61bc61eb($strChaine,"&amp;")) { $buffer.=('&'); $nIndex += 5; } else if(F61bc61eb($strChaine,"&apos;")) { $buffer.=('\''); $nIndex += 6; } else if(F61bc61eb($strChaine,"&gt;")) { $buffer.=('>'); $nIndex += 4; } else if(F61bc61eb($strChaine,"&lt;")) { $buffer.=('<'); $nIndex += 4; } else if(F61bc61eb($strChaine,"&quot;")) { $buffer.=('\"'); $nIndex += 6; } else { $buffer.='&'; $nIndex += 1; } } while(($nPosition = strpos($strChaine,'&',$nIndex)) !== false); $buffer.=substr($strChaine,$nIndex); return(string)$buffer; } class CCaractere extends CChaine { function CCaractere($Valeur = null) { parent::CTypeAvecPropriete($Valeur); } function F1b8e122c($Valeur) { if (!isset($Valeur)) $sChaine = ''; elseif (is_object($Valeur)) $sChaine = $this->F1b8e122c($Valeur->GetValeur()); else $sChaine = (string)$Valeur; if (utf8_strlen($sChaine)>1) return utf8_substr($sChaine,0,1); return $sChaine; } function& F1e21db15() { $t = TYPEWL_CARACTERE; return $t; } function F0a8d83f4() { return TYPE_XML_CARACTERE; } } class CChaineASCIIZ extends CChaine { function CChaineASCIIZ($Valeur = null) { parent::CTypeAvecPropriete($Valeur); } function F1b8e122c($Valeur) { if (is_object($Valeur)) $sChaine = $this->F1b8e122c($Valeur->GetValeur()); if (is_array($Valeur)) { $this->m_nTaille = $Valeur[0]; $sChaine = VersChaine($Valeur[1]); } else { $sChaine = VersChaine($Valeur); } if ($this->m_nTaille<=0) { Fe81a7f9e("TAILLE DE CHAINE ASCIIZ INVALIDE"); } if (utf8_strlen($sChaine)>=$this->m_nTaille) return utf8_substr($sChaine,0,$this->m_nTaille-1); return $sChaine; } function& F1e21db15() { $t = TYPEWL_CHAINE_ASCIIZ; return $t; } } class CChaineFixe extends CChaine { var $m_nTaille; function CChaineFixe($Valeur = null) { parent::CTypeAvecPropriete($Valeur); } function F1b8e122c($Valeur) { if (is_object($Valeur)) $sChaine = $this->F1b8e122c($Valeur->GetValeur()); if (is_array($Valeur)) { $this->m_nTaille = $Valeur[0]; $sChaine = (string)$Valeur[1]; $sChaine = utf8_str_pad($sChaine,$this->m_nTaille,utf8_chr(32)); } else { $sChaine = utf8_str_pad(VersChaine($Valeur),$this->m_nTaille,utf8_chr(0)); } if ($this->m_nTaille<=0) { Fe81a7f9e("TAILLE DE CHAINE FIXE INVALIDE"); } return utf8_substr(utf8_str_pad($sChaine,$this->m_nTaille,utf8_chr(32)),0,$this->m_nTaille); } function& F1e21db15() { $t = TYPEWL_CHAINE_FIXE; return $t; } } class CChainePascal extends CChaineASCIIZ { function CChainePascal($Valeur = null) { if (is_array($Valeur)) $Valeur[0]++; parent::CChaineASCIIZ($Valeur); } function& F1e21db15() { $t = TYPEWL_CHAINE_PASCAL; return $t; } } class CBuffer extends CChaine { function CBuffer($Valeur = null) { parent::CTypeAvecPropriete($Valeur); } function& F1e21db15() { $t = TYPEWL_BUFFER; return $t; } function F1b8e122c($Valeur) { $sChaine = VersPrimitif($Valeur); if (is_int($sChaine)) { $nValeur = (int)$sChaine; $sChaine = ''; while($nValeur>0) { $sChaine.= utf8_chr($nValeur&0xFF); $nValeur >>= 0xFF; } } return $sChaine; } function F35be7f7f() { return base64_encode(parent::F35be7f7f()); } function F0a8d83f4() { return TYPE_XML_BUFFER_BIN; } } class CBufferFixe extends CBuffer { function CBufferFixe($Valeur = null) { parent::CBuffer($Valeur); } function F1b8e122c($Valeur) { if (is_object($Valeur)) $sChaine = $this->F1b8e122c($Valeur->GetValeur()); if (is_array($Valeur)) { $this->m_nTaille = $Valeur[0]; $sChaine = (string)$Valeur[1]; $sChaine = utf8_str_pad($sChaine,$this->m_nTaille,utf8_chr(0)); } else { $sChaine = utf8_str_pad(VersChaine($Valeur),$this->m_nTaille,utf8_chr(0)); } if ($this->m_nTaille<=0) { Fe81a7f9e("TAILLE DE BUFFER FIXE INVALIDE"); } if (utf8_strlen($sChaine)>$this->m_nTaille) return utf8_substr($sChaine,0,$this->m_nTaille); return $sChaine; } function& F1e21db15() { $t = TYPEWL_BUFFER_FIXE; return $t; } function SetValeur($val) { $sChaine =$this->F1b8e122c($val); if (utf8_strlen($sChaine) < utf8_strlen($this->m_Valeur)){ $sChaine = utf8_substr($sChaine,0,utf8_strlen($sChaine)) . utf8_substr($this->m_Valeur,utf8_strlen($sChaine)); } parent::SetValeur($sChaine); $this->m_Valeur = utf8_substr(utf8_str_pad($this->m_Valeur,$this->m_nTaille,utf8_chr(0)),0,$this->m_nTaille); } } ?>