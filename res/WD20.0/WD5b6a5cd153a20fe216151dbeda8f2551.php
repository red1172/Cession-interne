<?php
//20.0.56.0 WL/PAGE/Upload.php GF 
//VersionVI: 30F200066p
//(c) 2005-2012 PC SOFT  - Release
 if (!defined('__INC__IHM/Champ/Champ.php')) { define('__INC__IHM/Champ/Champ.php',true); include_once(WB_INCLUDE_PATH.'WD7c939e6867492a5e5416bd4b4327fac0.php'); } if (!defined('__INC__FMK/Disque.php')) { define('__INC__FMK/Disque.php',true); include_once(WB_INCLUDE_PATH.'WD99bd5984d9c78e9239c729a52b83e562.php'); } function UploadNomFichier(&$Champ, $bLocalisation = true, $nIndice = 1) { $clChamp =& F9abbf335($Champ,IND_CHAMP); return $clChamp->UploadNomFichier($bLocalisation,$nIndice); } function UploadCopieFichier(&$Champ,$sCheminServeur, $sNomFichier, $nIndice = 1) { $clChamp =& F9abbf335($Champ,IND_CHAMP); return $clChamp->UploadCopieFichier($sCheminServeur, $sNomFichier,$nIndice); } function F406b3c6d($sCheminServeurTemporaire,$sNomNavigateur,$sCheminServeurDest, $sNomFichierDest,$bEstUneCopie = false) { F67cfd262(); if(!is_uploaded_file($sCheminServeurTemporaireACP=F9486bf1a($sCheminServeurTemporaire))) { if (!$bEstUneCopie || !file_exists($sCheminServeurTemporaireACP) ) { Fdd46bacf(FMK_ChaineConstruit(Fc34ec142("ERR_FICHIER_UPLOAD_IMPOSSIBLE"),$sCheminServeurTemporaire)); return ''; } } if(empty($sNomFichierDest)) { $sNomFichierDest = $sNomNavigateur; } else { if(($pos = utf8_strpos($sNomFichierDest, '.')) === false) { if(($pos = utf8_strpos($sNomNavigateur, '.'))!== false) { $sExtension = utf8_substr($sNomNavigateur,$pos+1,utf8_strlen($sNomNavigateur)); $sNomFichierDest .= '.'.$sExtension; } } } if(!Fd0f24521($sCheminServeurDest)) { return ''; } $bUploadReussi = false; if ($bEstUneCopie) { $bUploadReussi = Ff578b8aa($sCheminServeurTemporaire, F0ac3fb91($sCheminServeurDest).$sNomFichierDest); } else { DebutErreurAttendue(); $bUploadReussi = move_uploaded_file($sCheminServeurTemporaireACP, F9486bf1a(F0ac3fb91($sCheminServeurDest).$sNomFichierDest)); FinErreurAttendue(); } if(!$bUploadReussi) { Fdd46bacf(FMK_ChaineConstruit(Fc34ec142("ERR_FICHIER_UPLOAD_IMPOSSIBLE"),$sCheminServeurTemporaire)); return ''; } return $sNomFichierDest; } ?>