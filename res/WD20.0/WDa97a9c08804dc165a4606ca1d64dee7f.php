<?php
//20.0.56.0 IHM/Champ/Liste/Table/LigneTable.php GF 
//VersionVI: 30F200066p
//(c) 2005-2012 PC SOFT  - Release
 if (!defined('__INC__IHM/ObjetBase.php')) { define('__INC__IHM/ObjetBase.php',true); include_once(WB_INCLUDE_PATH.'WD55e11718a84583ed04e842fb319086b2.php'); } if (!defined('__INC__FMK/Chaine.php')) { define('__INC__FMK/Chaine.php',true); include_once(WB_INCLUDE_PATH.'WD55acb2e708e26f23cb8956cd93e98123.php'); } if (!defined('__INC__IHM/Champ/Liste/Table/CelluleTable.php')) { define('__INC__IHM/Champ/Liste/Table/CelluleTable.php',true); include_once(WB_INCLUDE_PATH.'WD5a61c2df03220445b8396860688f9550.php'); } class CLigneTableZRCommun extends CObjetBase { var $ZR; var $Table; var $TabValeur; var $TabStyle; var $StyleLigne; var $Indice; var $m_bDeroule = true; var $m_pclTabIndicesRuptReplie; var $dwFlag; function CLigneTableZRCommun(&$pclZR,$Valeurs) { parent::CObjetBase(); $this->Table = $this->ZR = $pclZR->m_sNomPHP; $this->SetValeur($Valeurs); $this->TabStyle = array(); $this->m_pclTabIndicesRuptReplie = empty($pclZR->TabRupture) ? null : array(); } function& Fd2331a4e() { return $GLOBALS[$this->ZR]; } function& Fb76ff292() { return $GLOBALS[$this->ZR]->Fb76ff292(); } function& Fd4510cbc($Indice) { Fa79fbf41('REDEF'); } function F57a77f23() { return $GLOBALS[$this->ZR]->F57a77f23(); } function F70cea20e() { return false; } function SetVisible( $bVisible ) { $this->Visible = $bVisible; $pclZR =& $GLOBALS[$this->ZR]; if(Feef890d7()) { F055fb2fe($pclZR->GetNom(), $pclZR); $pclZR->F8723e249($this->Indice); } Ffe2e63ad($this->dwFlag, 512, !$bVisible); $pclZR->Fedd556b7($this->Indice); } function SetEnroule($bEnroule) { $this->m_bDeroule = ! $bEnroule; if(Feef890d7()) { F4c16799e($this->m_sNomPHP, XML_CHAMP_PROP_NUM_ENROULE); } } function& GetEnroule() { $retour = ! $this->m_bDeroule; return $retour; } function& Feeaf870e() { Erreur('ErreurProprieteInconnue','',Fc34ec142("PROP_NOM_CURSEUR"),F3b9ec4ca($this)); return RetourErreur_Entier; } function F18fc7cff($nCurseur) { Erreur('ErreurProprieteInconnue','',Fc34ec142("PROP_NOM_CURSEUR"),F3b9ec4ca($this)); } function& GetPoliceTaille() { Erreur('ErreurProprieteInconnue','',Fc34ec142("PROP_NOM_POLICETAILLE"),F3b9ec4ca($this)); return RetourErreur_Entier; } function SetPoliceTaille($nPoliceTaille) { Erreur('ErreurProprieteInconnue','',Fc34ec142("PROP_NOM_POLICETAILLE"),F3b9ec4ca($this)); } function& GetPoliceSoulignee() { Erreur('ErreurProprieteInconnue','',Fc34ec142("PROP_NOM_POLICESOULIGNEE"),F3b9ec4ca($this)); return RetourErreur_Entier; } function SetPoliceSoulignee($bPoliceSoulignee) { Erreur('ErreurProprieteInconnue','',Fc34ec142("PROP_NOM_POLICESOULIGNEE"),F3b9ec4ca($this)); } function& GetPoliceNom() { Erreur('ErreurProprieteInconnue','',Fc34ec142("PROP_NOM_POLICENOM"),F3b9ec4ca($this)); return RetourErreur_Entier; } function SetPoliceNom($sPoliceNom) { Erreur('ErreurProprieteInconnue','',Fc34ec142("PROP_NOM_POLICENOM"),F3b9ec4ca($this)); } function& GetPoliceItalique() { Erreur('ErreurProprieteInconnue','',Fc34ec142("PROP_NOM_POLICEITALIQUE"),F3b9ec4ca($this)); return RetourErreur_Entier; } function SetPoliceItalique($bPoliceItalique) { Erreur('ErreurProprieteInconnue','',Fc34ec142("PROP_NOM_POLICEITALIQUE"),F3b9ec4ca($this)); } function& GetPoliceGras() { Erreur('ErreurProprieteInconnue','',Fc34ec142("PROP_NOM_POLICEGRAS"),F3b9ec4ca($this)); return RetourErreur_Entier; } function SetPoliceGras($bPoliceGras) { Erreur('ErreurProprieteInconnue','',Fc34ec142("PROP_NOM_POLICEGRAS"),F3b9ec4ca($this)); } function& GetCadrageVertical() { Erreur('ErreurProprieteInconnue','',Fc34ec142("PROP_NOM_CADRAGEVERTICAL"),F3b9ec4ca($this)); return RetourErreur_Entier; } function SetCadrageVertical($nCadrageVertical) { Erreur('ErreurProprieteInconnue','',Fc34ec142("PROP_NOM_CADRAGEVERTICAL"),F3b9ec4ca($this)); } function& GetHTMLAvant() { Erreur('ErreurProprieteInconnue','',Fc34ec142("PROP_NOM_HTMLAVANT"),F3b9ec4ca($this)); return RetourErreur_Entier; } function SetHTMLAvant($sHTMLAvant) { Erreur('ErreurProprieteInconnue','',Fc34ec142("PROP_NOM_HTMLAVANT"),F3b9ec4ca($this)); } function& GetHTMLApres() { Erreur('ErreurProprieteInconnue','',Fc34ec142("PROP_NOM_HTMLAPRES"),F3b9ec4ca($this)); return RetourErreur_Entier; } function SetHTMLApres($sHTMLApres) { Erreur('ErreurProprieteInconnue','',Fc34ec142("PROP_NOM_HTMLAPRES"),F3b9ec4ca($this)); } function& GetBulle() { Erreur('ErreurProprieteInconnue','',Fc34ec142("PROP_NOM_BULLE"),F3b9ec4ca($this)); return RetourErreur_Entier; } function SetBulle($sBulle) { Erreur('ErreurProprieteInconnue','',Fc34ec142("PROP_NOM_BULLE"),F3b9ec4ca($this)); } function& GetLargeur() { Erreur('ErreurProprieteInconnue','',Fc34ec142("PROP_NOM_LARGEUR"),F3b9ec4ca($this)); return RetourErreur_Entier; } function SetLargeur($nLargeur) { Erreur('ErreurProprieteInconnue','',Fc34ec142("PROP_NOM_LARGEUR"),F3b9ec4ca($this)); } function SetValeur($Valeurs) { if(!is_array($Valeurs)) { $this->TabValeur = utf8_explode(TAB, $Valeurs); } else { $this->TabValeur = array_values($Valeurs); } if(Feef890d7()) { $ChampZR = &$GLOBALS[$this->ZR]; F9402f437($ChampZR->GetNom(), $ChampZR); $ChampZR->Ff922bb0a($this->Indice); } } function& GetValeur() { $sRetourParDefaut = ''; $nNbElements = count($this->TabValeur,COUNT_NORMAL); if ($nNbElements >= 1) { $sRetourParDefaut = $this->TabValeur[0]; for($i=1; $i<$nNbElements; ++$i) { $sRetourParDefaut .= TAB . $this->TabValeur[$i]; } } return $sRetourParDefaut; } function SetCouleur($dwCoul) { if (!isset($this->StyleLigne)) { $this->StyleLigne = new FMK_Dessin_Style(); } $this->StyleLigne->SetCouleur($dwCoul); if(Feef890d7()) { $ChampZR = &$GLOBALS[$this->ZR]; F055fb2fe($ChampZR->GetNom(), $ChampZR); $ChampZR->Ff922bb0a($this->Indice); } } function SetCouleurFond($dwCoul) { if (!isset($this->StyleLigne)) { $this->StyleLigne = new FMK_Dessin_Style(); } $this->StyleLigne->SetCouleurFond($dwCoul); if(Feef890d7()) { $ChampZR = &$GLOBALS[$this->ZR]; F055fb2fe($ChampZR->GetNom(), $ChampZR); $ChampZR->Ff922bb0a($this->Indice); } } function& GetCouleur() { return $GLOBALS[$this->ZR]->F24bef4f5($this->Indice); } function& GetCouleurFond() { return $GLOBALS[$this->ZR]->F3e95d7a4($this->Indice); } function& Fb5eda0a7($Indice) { if(array_key_exists($Indice-1, $this->TabValeur)) { return $this->Fd4510cbc($Indice); } $Retour = null; return $Retour; } function& F44652a2c($Indice) { return $this->TabStyle[$Indice]; } function F8a857b6f($Indice, $Style) { $this->TabStyle[$Indice] = $Style; if(Feef890d7()) { $ChampZR = &$GLOBALS[$this->ZR]; F055fb2fe($ChampZR->GetNom(), $ChampZR); $ChampZR->Ff922bb0a($this->Indice); } } function& Feb7b0854() { return $this->StyleLigne; } function F2bd61426() { return isset($this->StyleLigne); } function F4740c410($Indice) { return array_key_exists($Indice, $this->TabStyle); } function IsSelected() { return $GLOBALS[$this->ZR]->selected($this->Indice); } function F2a3fd3f7($Ind) { $this->Indice = $Ind; } function Fcc8136ce() { if (empty($this->m_pclTabIndicesRuptReplie)) return -1; $nMinIndice = INT_MAX; $nGetNbElement = count($this->m_pclTabIndicesRuptReplie,COUNT_NORMAL); for ($i=0;$i<$nGetNbElement;++$i) { $nIndiceI = $this->m_pclTabIndicesRuptReplie[$i]; if ($nIndiceI <= $nMinIndice) { $nMinIndice = $nIndiceI; } } if ($nMinIndice== INT_MAX) return -1; return $nMinIndice; } function F2931cb31($nIndice) { if ($this->m_pclTabIndicesRuptReplie!==null && !in_array($nIndice,$this->m_pclTabIndicesRuptReplie)) $this->m_pclTabIndicesRuptReplie[] = $nIndice; } function F9cb3649a($nIndice) { if ($this->m_pclTabIndicesRuptReplie!==null && false!==($nPos=array_search($nIndice,$this->m_pclTabIndicesRuptReplie))) unset($this->m_pclTabIndicesRuptReplie[$nPos]); } } class CLigneZR extends CLigneTableZRCommun { function CLigneTable($T, $Valeurs) { parent::CLigneTableZRCommun($T,$Valeurs); } function& F1e21db15() { $s = 'LIGNEZR'; return $s; } function& Fd4510cbc($Indice) { $pclCell = new CCelluleZR($GLOBALS[$this->ZR], $this, $Indice); return $pclCell; } function SetValI($Indice, $valeur = '') { if(array_key_exists($Indice - 1, $this->TabValeur)) { $this->TabValeur[$Indice - 1] = $valeur; } if(Feef890d7()) { $ChampZR = &$GLOBALS[$this->ZR]; F055fb2fe($ChampZR->GetNom(), $ChampZR); $ChampZR->Ff922bb0a($this->Indice); } } function& GetValI($Indice) { $sRetourParDefaut = ""; if(isset($this->TabValeur[$Indice-1])) { return $this->TabValeur[$Indice - 1]; } elseif (!is_numeric($Indice)) { $pclZR = F9abbf335($this->ZR,IND_CHAMP); if (isset($pclZR)) { $sNomSansCasse = utf8_strtolower(F03771b65($Indice)); foreach (array_keys($pclZR->TabAttribut) as $nIdColonne) { $pclColonne =& $pclZR->TabAttribut[$nIdColonne]; if (utf8_strtolower(F03771b65($pclColonne->sNom)) == $sNomSansCasse) { return $this->GetValI($pclColonne->nIndiceAttribut); } } } } return $sRetourParDefaut; } } class CLigneTable extends CLigneTableZRCommun { var $m_nProfondeur = 0; var $m_sImageEnroulee = null; var $m_sImageDeroulee = null; function CLigneTable($T, $Valeurs) { parent::CLigneTableZRCommun($T,$Valeurs); } function& F1e21db15() { $s = 'LIGNETABLE'; return $s; } function& Fd4510cbc($Indice) { $pclCell = new CCelluleTable($GLOBALS[$this->Table], $this, $Indice); return $pclCell; } function SetValI($Indice, $valeur = '') { $ChampTable = &$GLOBALS[$this->Table]; if(array_key_exists($Indice, $ChampTable->TabColonnes)) { $this->TabValeur[$Indice - 1] = $valeur; } if(Feef890d7()) { F9402f437($ChampTable->GetNom(), $ChampTable); $ChampTable->Ff922bb0a($this->Indice); } } function& GetValI($Indice) { $sRetourParDefaut = ""; if(isset($this->TabValeur[$Indice-1])) { return $this->TabValeur[$Indice - 1]; } elseif (!is_numeric($Indice)) { $pclTable = F9abbf335($this->Table,IND_CHAMP); if (isset($pclTable)) { $sNomSansCasse = utf8_strtolower(F03771b65($Indice)); foreach (array_keys($pclTable->TabColonnes) as $nIdColonne) { $pclColonne =& $pclTable->TabColonnes[$nIdColonne]; if (utf8_strtolower(F03771b65($pclColonne->Nom)) == $sNomSansCasse) { return $this->GetValI($nIdColonne); } } } } return $sRetourParDefaut; } function F8e7cc75c() { if (!empty($this->m_sImageEnroulee)) return $this->m_sImageEnroulee; $ChampTable = &$GLOBALS[$this->Table]; return $ChampTable->F8e7cc75c($this->m_nProfondeur); } function Fbb623779() { if (!empty($this->m_sImageDeroulee)) return $this->m_sImageDeroulee; $ChampTable = &$GLOBALS[$this->Table]; return $ChampTable->Fbb623779($this->m_nProfondeur); } function SetImageDeroulee($sImage) { $this->m_sImageDeroulee = $sImage; if(Feef890d7()) { F4c16799e($this->m_sNomPHP, PROP_INVALID_MIN); } } function& GetImageDeroulee() { $retour = $this->m_sImageDeroulee; return $retour; } function SetImageEnroulee($sImage) { $this->m_sImageEnroulee = $sImage; if(Feef890d7()) { F4c16799e($this->m_sNomPHP, PROP_INVALID_MIN); } } function& GetImageEnroulee() { $retour = $this->m_sImageEnroulee; return $retour; } } ?>